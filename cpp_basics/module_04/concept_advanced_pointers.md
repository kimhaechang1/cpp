# Module 04 λ³΄μ¶©: ν¬μΈν„°μ μ‹¬ν™” (Advanced Pointers)

## 1. `const T&` (Const Reference) - μ„±λ¥ μµμ ν™”μ ν•µμ‹¬ β΅
ν•¨μμ— λ³€μλ¥Ό μ „λ‹¬ν•  λ•, **"λ³µμ‚¬ λΉ„μ©"**μ„ μ•„λΌλ©΄μ„ **"μ›λ³Έ λ³΄νΈ"**κΉμ§€ ν•λ” κ°€μ¥ μ™„λ²½ν• λ°©λ²•μ…λ‹λ‹¤.

### 1.1 μ™ μ“°λ‚μ”?
`int` κ°™μ€ μ‘μ€ νƒ€μ…μ€ κ·Έλƒ¥ κ°’μΌλ΅ λ„κ²¨λ„(`int a`) μƒκ΄€μ—†μµλ‹λ‹¤.
ν•μ§€λ§ `struct Player`λ‚ `std::string` μ²λΌ λ©μΉ ν° λ…€μ„λ“¤μ€ **λ³µμ‚¬(Copy)**κ°€ λ°μƒν•λ©΄ μ„±λ¥μ΄ λ–¨μ–΄μ§‘λ‹λ‹¤.

```cpp
// [BAD] λ³µμ‚¬ λ°μƒ! (λλ¦Ό)
void PrintPlayer(Player p) { ... } 

// [GOOD] μ°Έμ΅°λ΅ μ›λ³Έ μ ‘κ·Ό! (λΉ λ¦„), κ·Όλ° μ›λ³Έμ΄ λ°”λ€” μ„ν—μ΄ μμ
void PrintPlayer(Player& p) { ... }

// [BEST] μ°Έμ΅°(λΉ λ¦„) + const(μ•μ „) -> μ™„λ²½! β¨
void PrintPlayer(const Player& p) {
    // p.hp = 0; // μ—λ¬! constλΌμ„ μμ • λ¶κ°€
    cout << p.hp;
}
```

> **κ·μΉ™**: `int`, `float` κ°™μ€ κΈ°λ³Έ νƒ€μ… λΉΌκ³ λ” **λ¬΄μ΅°κ±΄ `const T&`** λ΅ λ„κΈ°μ„Έμ”.

---

## 2. μ΄μ¤‘ ν¬μΈν„° (`Type**`) - ν¬μΈν„°λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° π”—
ν¬μΈν„°(`*`)κ°€ "λ³€μμ μ£Όμ†"λ¥Ό λ‹΄λ”λ‹¤λ©΄, μ΄μ¤‘ ν¬μΈν„°(`**`)λ” **"ν¬μΈν„° λ³€μμ μ£Όμ†"**λ¥Ό λ‹΄μµλ‹λ‹¤.

### 2.1 μ–Έμ  μ“°λ‚μ”?
1.  **ν•¨μ μ•μ—μ„ λ°”κΉ¥μ ν¬μΈν„°λ¥Ό λ°”κΏ€ λ•** (Ex: `KillMonster` ν•¨μκ°€ `Monster*`λ¥Ό `nullptr`λ΅ λ°”κΏ”μ•Ό ν•  λ•)
2.  **2μ°¨μ› λ°°μ—΄**μ„ λ™μ  ν• λ‹Ήν•  λ• (`int** board`)

### 2.2 μ™ κ·Έλƒ¥ ν¬μΈν„°λ΅λ” μ• λλ‚μ”? (μ¤‘μ” β­)
ν•¨μμ— `int* p`λ¥Ό λ„κΈ°λ©΄ ν¬μΈν„° λ³€μμ **κ°’(μ£Όμ†)λ§ λ³µμ‚¬**λμ–΄ μ „λ‹¬λ©λ‹λ‹¤. (Call by Value)
ν•¨μ μ•μ—μ„ `p = nullptr`μ„ ν•΄λ„, **λ³µμ‚¬λ³Έ `p`**λ§ λ°”λ€κ³  λ°”κΉ¥μ μ›λ³Έ ν¬μΈν„°λ” κ·Έλ€λ΅μ…λ‹λ‹¤.
μ›λ³Έ ν¬μΈν„° μμ²΄λ¥Ό λ°”κΎΈλ ¤λ©΄ **"ν¬μΈν„° λ³€μμ μ£Όμ†"**(`int**`)κ°€ ν•„μ”ν•©λ‹λ‹¤.

### 2.3 κµ¬μ΅°
```cpp
int a = 10;
int* p = &a;    // pλ” aμ μ£Όμ†λ¥Ό κ°€μ§ (μ£ΌμΈκ³µ)
int** pp = &p;  // ppλ” pμ μ£Όμ†λ¥Ό κ°€μ§ (ν¬μΈν„°μ ν¬μΈν„°)

*pp = nullptr;  // ppκ°€ κ°€λ¦¬ν‚¤λ” κ³³(p)μ„ nullptrλ΅ λ°”κΏ! (μ›λ³Έ μμ • μ„±κ³µ)
```

### 2.4 μμ£Ό λ¬»λ” μ§λ¬Έ (FAQ) π¤”
**Q: ν¬μΈν„°λ΅ λ°›μΌλ©΄ `p->hp = 0` μ²λΌ κ°’ μμ •μ€ μ λλλ°μ”?**
A: λ„¤, κ·Έκ±΄ **"ν™”μ‚΄ν‘λ¥Ό νƒ€κ³  κ°€μ„"** κ±°κΈ° μλ” λ¬Όκ±΄(hp)μ„ λ¶€μ κ²λ‹λ‹¤. (μ§‘μ£Όμ† μ•κ³  μ°Ύμ•„κ°€μ„ μ°½λ¬Έ κΉ¨κΈ°)
ν•μ§€λ§ `p = nullptr`μ€ **"λ‚΄ μ†μ— λ“¤λ¦° μ½μ§€(μ£Όμ†)"**λ¥Ό μ§€μ°κ°λ΅ μ§€μ΄ κ²λ‹λ‹¤.
μ½μ§€λ¥Ό μ§€μ› λ‹¤κ³  ν•΄μ„ μ›λ μ§‘μ΄ μ‚¬λΌμ§€κ±°λ‚, μ½μ§€λ¥Ό μ¤€ μ‚¬λ(mainν•¨μ)μ κΈ°μ–µμ΄ μ‚¬λΌμ§€μ§„ μ•μ£ .

- `p->hp = 0`: μ£Όμ†μ§€(Heap)μ— μ°Ύμ•„κ°€μ„ κΉ½ν μΉ¨ -> **λ°”κΉ¥μ—λ„ μν–¥ μμ (O)**
- `p = nullptr`: λ‚΄ μμ²©μ— μ ν μ£Όμ†λ§ μ§€μ›€ -> **λ°”κΉ¥μ—” μ•„λ¬΄ μν–¥ μ—†μ (X)**

κ·Έλμ„ "μ½μ§€ μμ²΄"(μ£Όμ†κ°’)λ¥Ό λ°”κΎΈλ ¤λ©΄, μ½μ§€κ°€ μλ” "μ„μΉ"(`Node**`)λ¥Ό μ•μ•„μ•Ό ν•©λ‹λ‹¤.

### 2.5 π¨ μ£Όμ: λ³„μ κ°μκ°€ μ΄λ…μ„ κ°€λ¥Έλ‹¤!
μ΄μ¤‘ ν¬μΈν„°λ¥Ό μ“Έ λ• κ°€μ¥ λ§μ΄ ν•λ” μ‹¤μμ…λ‹λ‹¤.

```cpp
void Redirect(int** pp, int* target) {
    // [μ¤λ‹µ] **pp = *target; 
    // ν•΄μ„: pp -> p -> a λ΅ κ°€μ„, aμ "κ°’"μ„ targetμ κ°’μΌλ΅ λ®μ–΄μ”€.
    // κ²°κ³Ό: ν¬μΈν„° pλ” μ—¬μ „ν aλ¥Ό κ°€λ¦¬ν‚΄. (λ‹¨μ§€ aκ°’μ΄ λ°”λ€)
    
    // [μ •λ‹µ] *pp = target;
    // ν•΄μ„: pp -> p λ΅ κ°€μ„, pκ°€ λ‹΄κ³  μλ” "μ£Όμ†"λ¥Ό targetμ μ£Όμ†λ΅ λ®μ–΄μ”€.
    // κ²°κ³Ό: ν¬μΈν„° pκ°€ μ΄μ  targetμ„ κ°€λ¦¬ν‚΄. (μ„±κ³µ!)
}
```
> **κ³µμ‹**: 
> - κ°’μ„ λ°”κΎΈκ³  μ‹¶λ‹¤? -> `**pp` (λ‘ λ² νƒ€κ³  λ“¤μ–΄κ°)
> - κ°€λ¦¬ν‚¤λ” λ€μƒμ„ λ°”κΎΈκ³  μ‹¶λ‹¤? -> `*pp` (ν• λ²λ§ νƒ€κ³  λ“¤μ–΄κ°)
