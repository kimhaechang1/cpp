# MODULE 04: ν¬μΈν„°μ™€ λ©”λ¨λ¦¬ (Pointers & Memory) Part 1

## 1. ν¬μΈν„°(Pointer)λ€ λ¬΄μ—‡μΈκ°€?
C++μ„ λ°°μ°λ” κ°€μ¥ ν° μ΄μ μ΄μ, κ°€μ¥ ν° μ¥λ²½μΈ ν¬μΈν„°μ…λ‹λ‹¤.
ν•μ§€λ§ μ›λ¦¬λ§ μ•λ©΄ **"μ£Όμ†λ¥Ό λ‹΄λ” λ³€μ"**μΌ λΏμ…λ‹λ‹¤.

### 1.1. λ©”λ¨λ¦¬μ μ£Όμ† (Address)
- μ°λ¦¬κ°€ μ„ μ–Έν•λ” λ¨λ“  λ³€μλ” λ©”λ¨λ¦¬(RAM) μ–΄λ”κ°€μ— μ €μ¥λ©λ‹λ‹¤.
- κ° λ°©(byte)λ§λ‹¤ κ³ μ ν• λ²νΈ(μ£Όμ†)κ°€ μμµλ‹λ‹¤.
- `&` μ—°μ‚°μλ¥Ό λ³€μ μ•μ— λ¶™μ΄λ©΄ κ·Έ λ³€μμ **μ£Όμ†**λ¥Ό μ• μ μμµλ‹λ‹¤.

```cpp
int hp = 100;
cout << hp;  // 100 (κ°’)
cout << &hp; // 0x7ffd... (μ£Όμ†: 16μ§„μλ΅ λ‚μ΄)
```

### 1.2. ν¬μΈν„° λ³€μ μ„ μ–Έ
μ£Όμ†λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” λ³€μκ°€ λ°”λ΅ **ν¬μΈν„°**μ…λ‹λ‹¤.
μλ£ν• λ’¤μ— `*`λ¥Ό λ¶™μ—¬μ„ μ„ μ–Έν•©λ‹λ‹¤.

```cpp
int number = 10;
int* ptr = &number; // numberμ μ£Όμ†λ¥Ό ptrμ— μ €μ¥
```

| κµ¬λ¶„ | μΌλ° λ³€μ | ν¬μΈν„° λ³€μ |
| :--- | :--- | :--- |
| **μ„ μ–Έ** | `int a = 10;` | `int* p = &a;` |
| **μ €μ¥κ°’** | μ‹¤μ  κ°’ (10) | μ£Όμ† κ°’ (0x1234...) |
| **ν¬κΈ°** | 4 byte (int κΈ°μ¤€) | 8 byte (64bit μ‹μ¤ν… κΈ°μ¤€) |

---

## 2. μ—­μ°Έμ΅° (Dereference) `*`
μ£Όμ†λ¥Ό κ°€μ§€κ³  μλ‹¤λ©΄, κ·Έ μ£Όμ†λ΅ **μ°Ύμ•„κ°€μ„** κ°’μ„ κΊΌλ‚΄μ¤κ±°λ‚ μμ •ν•  μ μμµλ‹λ‹¤.
μ΄κ²ƒμ„ **μ—­μ°Έμ΅°**λΌκ³  ν•©λ‹λ‹¤. ν¬μΈν„° λ³€μ μ•μ— `*`λ¥Ό λ¶™μ…λ‹λ‹¤.

```cpp
int* p = &hp; // pλ” hpμ μ£Όμ†λ¥Ό κ°€μ§

// 1. μ½κΈ°
cout << *p; // "pκ°€ κ°€λ¦¬ν‚¤λ” κ³³μΌλ΅ κ°€λΌ!" -> hp κ°’(100) μ¶λ ¥

// 2. μ“°κΈ°
*p = 50;    // "pκ°€ κ°€λ¦¬ν‚¤λ” κ³³μΌλ΅ κ°€μ„ 50μ„ λ„£μ–΄λΌ!"
cout << hp; // 50 (μ›λ³Έμ΄ λ°”λ€)
```

> **π”‘ ν•µμ‹¬ μ”μ•½**: 
> - `&` : μ£Όμ†λ¥Ό μ•μ•„λ‚΄λ” μ—°μ‚°μ ("μ°λ¦¬ μ§‘ μ£Όμ†λ”?")
> - `*` : μ£Όμ†λ΅ μ°Ύμ•„κ°€λ” μ—°μ‚°μ ("κ·Έ μ£Όμ†λ΅ λ°°λ‹¬ κ°€λΌ!")

---

## 3. μ°Έμ΅°μ(Reference) λ‹¤μ‹λ³΄κΈ°
μ°λ¦¬κ°€ Module 03μ—μ„ λ°°μ΄ μ°Έμ΅°μ(`&`)μ— λ€ν•΄, ν¬μΈν„°λ¥Ό λ°°μ΄ μ§€κΈ μ‹μ μ—μ„ λ‹¤μ‹ μ‚΄ν΄λ΄…μ‹λ‹¤.

### 3.1. μ°Έμ΅°μμ λ‚΄λ¶€ λ©”μ»¤λ‹μ¦ (User Note)
ν¬μΈν„°λ¥Ό μ΄ν•΄ν•κ³  λ‚λ©΄ μ°Έμ΅°μμ μ •μ²΄κ°€ λ…ν™•ν•΄μ§‘λ‹λ‹¤.
**"μ°Έμ΅°μλ” κ²°κµ­ νΈμμ„±μ„ μ„ν• ν¬μΈν„°"**μ…λ‹λ‹¤. (Syntactic Sugar for Pointer)

1. **νΈμμ„± (Syntactic Sugar)**
   - λ§¤λ² `*ptr` μ²λΌ ν¬μΈν„° μ—°μ‚°μλ¥Ό μ“°κΈ° κ·€μ°®μ•„μ„ λ§λ“¤μ—μµλ‹λ‹¤.
   - λ³€μμ²λΌ νΈν•κ² κ·Έλƒ¥ μ“°λ©΄(`ref`), μ»΄νμΌλ¬κ°€ μ•μ•„μ„ λ‚΄λ¶€μ μΌλ΅ ν¬μΈν„° μ—°μ‚°(`*ref`)μ„ μν–‰ν•΄μ¤λ‹λ‹¤.

2. **λ³„μΉ­ (Alias)μ μλ―Έ**
   - μƒλ΅μ΄ λ³€μ κ³µκ°„μ„ λ§λ“λ” κ² μ•„λ‹λΌ, κΈ°μ΅΄ λ³€μμ— **λ³„λ…**μ„ λ¶™μ΄λ” κ²ƒμ…λ‹λ‹¤.
   - μ„ μ–Έν•  λ• `&`λ¥Ό λ¶™μ΄λ” κ±΄ "λ€μƒμ μ£Όμ†λ¥Ό λ”°λ¥΄κ² λ‹¤(λ³„λ…μ΄λ‹¤)"λΌλ” ν‘μ‹μ…λ‹λ‹¤.

3. **λ‚΄λ¶€ λ™μ‘ (Internal Mechanism)**
   - **κ°€μ¥ μ¤‘μ”ν• μ **: κ²‰μΌλ΅λ” κ°’μ„ λ‹΄λ” κ²ƒ κ°™μ§€λ§, **λ‚΄λ¶€μ μΌλ΅λ” ν¬μΈν„°μ²λΌ λ€μƒμ 'μ£Όμ†'λ¥Ό μ €μ¥**ν•κ³  μμµλ‹λ‹¤.
   - μ¦‰, `int& ref = a;`λ” λ‚΄λ¶€μ μΌλ΅ `int* const ref = &a;`μ™€ κ±°μ λ™μΌν•κ² λ™μ‘ν•©λ‹λ‹¤.

### 3.2. ν¬μΈν„°μ™€ μ°Έμ΅°μμ κ΄€κ³„
| νΉμ„± | ν¬μΈν„° (`*`) | μ°Έμ΅°μ (`&`) |
| :--- | :--- | :--- |
| **μ΄κΈ°ν™”** | `nullptr` κ°€λ¥ (λΉ„μ–΄μμ„ μ μμ) | **λ°λ“μ‹** μ΄κΈ°ν™”ν•΄μ•Ό ν•¨ |
| **λ€μƒ λ³€κ²½** | μ¤‘κ°„μ— κ°€λ¦¬ν‚¤λ” λ€μƒ λ³€κ²½ κ°€λ¥ | ν• λ² μ •ν•λ©΄ λ³€κ²½ λ¶κ°€λ¥ (μΌνΈλ‹¨μ‹¬) |
| **NULL μ²΄ν¬** | μ‚¬μ© μ „ `if (ptr != nullptr)` μ²΄ν¬ ν•„μ | NULLμ΄ λ  μ μ—†μΌλ―€λ΅ μ²΄ν¬ λ¶ν•„μ” |
| **μ©λ„** | λ™μ  ν• λ‹Ή, λ°°μ—΄, μ—°κ²° λ¦¬μ¤νΈ λ“± | ν•¨μ λ§¤κ°λ³€μ μ „μ© (μ•μ „λΉµ) |

---

## 4. μ‹¤μµ: ν¬μΈν„°λ΅ λ³€μ μ΅°μ‘ν•κΈ°
λ‹¤μ νμΌ(`pointer_practice.cpp`)μ„ μƒμ„±ν•΄μ„ ν¬μΈν„° κ°’μ„ μ§μ ‘ λμΌλ΅ ν™•μΈν•΄λ΄…μ‹λ‹¤.

---

## 5. Q&A: ν¬μΈν„°μ— λ€ν• κΉμ€ μ΄ν•΄ (Deep Dive)
μ‚¬μ©μλ¶„μ΄ μμ£Ό ν—·κ°λ¦¬λ” **λ³„ν‘(`*`)μ λ‘ μ–Όκµ΄**μ— λ€ν•΄ λ…ν™•ν μ •λ¦¬ν•΄λ΄…μ‹λ‹¤.

### Q. `*` κΈ°νΈκ°€ μ„ μ–Έν•  λ•λ‘ μ“Έ λ•λ‘ μλ―Έκ°€ λ‹¤λ¥Έκ°€μ”?
**A. λ„¤! μ™„μ „ν λ‹¤λ¦…λ‹λ‹¤.** (μ΄κ²ƒμ΄ κ°€μ¥ μ¤‘μ”ν•©λ‹λ‹¤)

1. **μ„ μ–Έν•  λ• (`int* p`)**
   - μ—¬κΈ°μ„ `*`λ” **"νƒ€μ…μ μΌλ¶€"**μ…λ‹λ‹¤.
   - "λ‚λ” `int`ν• λ°μ΄ν„°λ¥Ό κ°€λ¦¬ν‚¤λ” μ£Όμ† λ³€μμ…λ‹λ‹¤"λΌλ” λ»μ…λ‹λ‹¤.
   - `int* p = &hp;` π‘‰ "hpμ μ£Όμ†λ¥Ό pμ— λ‹΄μ•„λΌ."

2. **μ‚¬μ©ν•  λ• (`*p`)**
   - μ—¬κΈ°μ„ `*`λ” **"μ—°μ‚°μ(Operator)"**μ…λ‹λ‹¤. (μ—­μ°Έμ΅° μ—°μ‚°μ)
   - "μ €μ¥λ μ£Όμ†λ΅ **μ΄λ™ν•΄λΌ!**"λΌλ” λ…λ Ήμ…λ‹λ‹¤.
   - κ·Έλ¦¬κ³  **"μ„ μ–Έν•  λ• μ •ν• ν¬κΈ°(`int`)λ§νΌ μ½μ–΄λΌ"**λ” λ»μ„ λ‚΄ν¬ν•κ³  μμµλ‹λ‹¤.

### Q. `p`λ§ μ¶λ ¥ν•λ©΄ μ£Όμ†κ°€ λ‚μ¤λ‚μ”?
**A. λ§μµλ‹λ‹¤!**
- `p`: ν¬μΈν„° λ³€μ **κ·Έ μμ²΄** (μ•μ— λ“¤μ–΄μλ” κ±΄ μ£Όμ† κ°’)
- `*p`: ν¬μΈν„°κ°€ **κ°€λ¦¬ν‚¤λ” κ³³**μ μ‹¤μ  κ°’

```cpp
int a = 100;
int* p = &a;

cout << p;  // 0x123... (μ£Όμ† μ¶λ ¥)
cout << *p; // 100      (μ£Όμ†λ΅ μ°Ύμ•„κ°€μ„ intλ§νΌ μ½μ€ κ°’ μ¶λ ¥)
```

### Q. μ°Έμ΅°μ(Reference) λ¬Έλ²•μ΄ ν—·κ°λ ¤μ” (`int& ref = &hp`?)
**A. κ·Έ λ¬Έλ²•μ€ ν‹€λ Έμµλ‹λ‹¤!**

μ‚¬μ©μλ‹μ ν†µμ°°λ€λ΅ **"μ°Έμ΅°μλ” μλ™μΌλ΅ `*` λ¶™μ—¬μ£Όλ” ν¬μΈν„°"**κ°€ λ§μµλ‹λ‹¤.
ν•μ§€λ§ λ¬Έλ²•μ μΌλ΅ **"μ£Όμ†(`&hp`)"**λ¥Ό λ€μ…ν•λ” κ² μ•„λ‹λΌ **"λ€μƒ(`hp`)"**μ„ λ€μ…ν•΄μ•Ό ν•©λ‹λ‹¤.

1. **ν¬μΈν„° (`int*`)**: μ£Όμ†λ¥Ό λ¨Ήκ³  μ‚½λ‹λ‹¤.
   ```cpp
   int* p = &hp; // (O) "hpμ μ£Όμ†λ¥Ό μ£Όμ„Έμ”."
   // int* p = hp; // (X) "hpλ” μ£Όμ†κ°€ μ•„λ‹λ°μ”?"
   ```

2. **μ°Έμ΅°μ (`int&`)**: μ‹¤μ²΄λ¥Ό λ¨Ήκ³  μ‚½λ‹λ‹¤.
   ```cpp
   int& ref = hp;  // (O) "hpμ λ³„λ…μ΄ λ λμ”." (λ‚΄λ¶€μ μΌλ΅ &hp μ²λ¦¬λ” μ»΄νμΌλ¬ λ«)
   // int& ref = &hp; // (X) "μ£Όμ†κ°’μ λ³„λ…μ΄ λ  μ μ—†μ–΄μ”."
   ```

### Q. μ™ μ°Έμ΅°μλ” λ°λ“μ‹ μ΄κΈ°ν™”ν•΄μ•Ό ν•λ‚μ”?
**"λ³„λ…(Alias)"**μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.
- **ν¬μΈν„°**: "λΉ μƒμ"λ¥Ό λ§λ“¤κ³  λ‚μ¤‘μ— μ£Όμ†λ¥Ό λ„£μ–΄λ„ λ©λ‹λ‹¤. (`nullptr` κ°€λ¥)
- **μ°Έμ΅°μ**: "μ² μ"μ λ³„λ…μΈ "κ°λ¥μ΄"λ¥Ό λ§λ“¤λ ¤λ©΄, μ• μ΄μ— "μ² μ"κ°€ μμ–΄μ•Ό ν•©λ‹λ‹¤.
  - "ν¬λ…μΈκ°„μ λ³„λ…"μ€ μ΅΄μ¬ν•  μ μ—†κΈ° λ•λ¬Έμ—, μ„ μ–Έκ³Ό λ™μ‹μ— **λ„κµ¬μ λ³„λ…μΈμ§€** μ •ν•΄μ¤μ•Ό ν•©λ‹λ‹¤.

---

## 6. ν¬μΈν„° μ—°μ‚° (Pointer Arithmetic)

ν¬μΈν„°λ” λ‹¨μν• μ£Όμ†κ°’(`int`ν• μ •μ)μ΄ μ•„λ‹™λ‹λ‹¤. **"νƒ€μ…(Type)"**μ„ κ°€μ§„ μ£Όμ†μ…λ‹λ‹¤.
κ·Έλμ„ λ§μ…(`+`)κ³Ό λΊ„μ…(`-`)μ„ ν•  λ•, μ°λ¦¬κ°€ μ•„λ” μ‚°μμ™€ λ‹¤λ¥΄κ² λ™μ‘ν•©λ‹λ‹¤.

### 6.1. ν¬μΈν„° λ§μ… (`ptr + 1`)
- "μ£Όμ†μ— 1μ„ λ”ν•΄λΌ" (X)
- "**λ‹¤μ μ”μ†(Element)**λ΅ μ΄λ™ν•΄λΌ" (O)
- μ‹¤μ  μ΄λ™ν•λ” λ°”μ΄νΈ μ = `1 * sizeof(Type)`

### 6.2. ν¬μΈν„° λΊ„μ… (`ptr1 - ptr2`)
- "μ£Όμ† μ°¨μ΄κ°€ λ‡ λ°”μ΄νΈμΈκ°€?" (X)
- "**μ°λ¦¬ μ‚¬μ΄μ— μ”μ†κ°€ λ‡ κ° λ“¤μ–΄κ°€λ”κ°€?**" (O)
- λ°ν™κ°’(μ •μ) = `(Address1 - Address2) / sizeof(Type)`

> **User's Insight**: "μ—°κ²° λ¦¬μ¤νΈ ν’€(Pool)μ—μ„ `curr - pool`μ„ ν–λ”λ‹, 16λ°”μ΄νΈ μ°¨μ΄κ°€ λ‚λ”λ° κ²°κ³Όλ” 1μ΄ λ‚μ¤λ„¤μ”?"
> -> μ •ν™•ν•©λ‹λ‹¤! μ΄κ²ƒμ΄ C++μ΄ μΈλ±μ¤(Index)λ¥Ό κ³„μ‚°ν•λ” λ°©μ‹μ…λ‹λ‹¤.
